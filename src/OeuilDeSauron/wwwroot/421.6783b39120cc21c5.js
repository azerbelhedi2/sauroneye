"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[421],{2421:(ee,_,l)=>{l.r(_),l.d(_,{ListProjectsModule:()=>q});var j=l(177),u=l(2365),g=l(5779),I=l(5160),e=l(4438),R=l(3366),p=l(7651),f=l(1141),c=l(4341),C=l(563),b=l(9998),P=l(1830),k=l(2242),M=l(1305),x=l(494),T=l(1570);const F=()=>["id","name","healthCheckUrl","assignedTo"],y=()=>[10,20,30],h=()=>({width:"450px"}),d=o=>({"ng-invalid ng-dirty":o});function D(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",18)(1,"button",19),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.openNew())}),e.k0s(),e.j41(2,"button",20),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteSelectedProducts())}),e.k0s()()}if(2&o){const t=e.XpG();e.R7$(2),e.Y8G("disabled",!t.selectedtProjects||!t.selectedtProjects.length)}}function v(o,r){}function S(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",21)(1,"h5",22),e.EFF(2,"Manage Projects"),e.k0s(),e.j41(3,"span",23),e.nrm(4,"i",24),e.j41(5,"input",25),e.bIt("input",function(n){e.eBV(t);const i=e.XpG(),m=e.sdS(8);return e.Njj(i.onGlobalFilter(m,n))}),e.k0s()()()}}function G(o,r){1&o&&(e.j41(0,"tr")(1,"th",26),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th",27),e.EFF(4,"Id Project "),e.nrm(5,"p-sortIcon",28),e.k0s(),e.j41(6,"th",29),e.EFF(7,"Project Name "),e.nrm(8,"p-sortIcon",30),e.k0s(),e.j41(9,"th",31),e.EFF(10,"Assigned To "),e.nrm(11,"p-sortIcon",32),e.k0s(),e.nrm(12,"th"),e.k0s())}function L(o,r){if(1&o){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.nrm(2,"p-tableCheckbox",33),e.k0s(),e.j41(3,"td",34)(4,"span",35),e.EFF(5,"Id Project"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"td",36)(8,"span",35),e.EFF(9,"Project Name"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"td",36)(12,"span",35),e.EFF(13,"Assigned To"),e.k0s(),e.EFF(14),e.k0s(),e.j41(15,"td")(16,"div",37)(17,"button",38),e.bIt("click",function(){const n=e.eBV(t).$implicit,i=e.XpG();return e.Njj(i.getProjectDetails(n.id))}),e.k0s(),e.j41(18,"button",39),e.bIt("click",function(){const n=e.eBV(t).$implicit,i=e.XpG();return e.Njj(i.deleteProject(n))}),e.k0s()()()()}if(2&o){const t=r.$implicit;e.R7$(2),e.Y8G("value",t),e.R7$(4),e.SpI(" ",t.id," "),e.R7$(4),e.SpI(" ",t.name," "),e.R7$(4),e.SpI(" ",t.assignedTo," ")}}function B(o,r){1&o&&(e.j41(0,"small",71),e.EFF(1,"Name is required."),e.k0s())}function N(o,r){1&o&&(e.j41(0,"small",71),e.EFF(1,"Health Check Url is required."),e.k0s())}function E(o,r){1&o&&(e.j41(0,"small",71),e.EFF(1,"Site Url is required."),e.k0s())}function U(o,r){1&o&&(e.j41(0,"small",71),e.EFF(1,"Email is required."),e.k0s())}function V(o,r){1&o&&(e.j41(0,"small",71),e.EFF(1,"Duration Url is required."),e.k0s())}function X(o,r){1&o&&(e.j41(0,"small",71),e.EFF(1,"Time out is required."),e.k0s())}function Y(o,r){1&o&&(e.j41(0,"small",71),e.EFF(1,"Header Serializedis required."),e.k0s())}function H(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",40)(1,"label",41),e.EFF(2," Project Name"),e.k0s(),e.j41(3,"input",42),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG();return e.DH7(i.project.name,n)||(i.project.name=n),e.Njj(n)}),e.k0s(),e.DNE(4,B,2,0,"small",43),e.k0s(),e.j41(5,"div",44)(6,"div",45)(7,"div",46)(8,"p-radioButton",47),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG();return e.DH7(i.project.type,n)||(i.project.type=n),e.Njj(n)}),e.k0s(),e.j41(9,"label",48),e.EFF(10,"Domain Check"),e.k0s()()(),e.j41(11,"div",45)(12,"div",46)(13,"p-radioButton",49),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG();return e.DH7(i.project.type,n)||(i.project.type=n),e.Njj(n)}),e.k0s(),e.j41(14,"label",50),e.EFF(15,"SSL Check"),e.k0s()()(),e.j41(16,"div",45)(17,"div",46)(18,"p-radioButton",51),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG();return e.DH7(i.project.type,n)||(i.project.type=n),e.Njj(n)}),e.k0s(),e.j41(19,"label",52),e.EFF(20,"User Scenario"),e.k0s()()()(),e.j41(21,"div",40)(22,"label",53),e.EFF(23,"Health Check Url"),e.k0s(),e.j41(24,"input",54),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG();return e.DH7(i.project.healthcheckUrl,n)||(i.project.healthcheckUrl=n),e.Njj(n)}),e.k0s(),e.DNE(25,N,2,0,"small",43),e.k0s(),e.j41(26,"div",40)(27,"label",55),e.EFF(28,"Site Url"),e.k0s(),e.j41(29,"input",56),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG();return e.DH7(i.project.siteUrl,n)||(i.project.siteUrl=n),e.Njj(n)}),e.k0s(),e.DNE(30,E,2,0,"small",43),e.k0s(),e.j41(31,"div",40)(32,"label",57),e.EFF(33,"Assigned To"),e.k0s(),e.j41(34,"input",58),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG();return e.DH7(i.project.assignedTo,n)||(i.project.assignedTo=n),e.Njj(n)}),e.k0s(),e.DNE(35,U,2,0,"small",43),e.k0s(),e.j41(36,"div",59)(37,"div",60)(38,"label",61),e.EFF(39,"Is Active"),e.k0s(),e.j41(40,"input",62),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG();return e.DH7(i.project.isActive,n)||(i.project.isActive=n),e.Njj(n)}),e.k0s()(),e.j41(41,"div",60)(42,"label",63),e.EFF(43,"Send Mail if Unhealthy"),e.k0s(),e.j41(44,"input",64),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG();return e.DH7(i.project.sendMailifUnhealthy,n)||(i.project.sendMailifUnhealthy=n),e.Njj(n)}),e.k0s()()(),e.j41(45,"div",40)(46,"label",65),e.EFF(47,"Duration(Minute)"),e.k0s(),e.j41(48,"input",66),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG();return e.DH7(i.project.durationInMinute,n)||(i.project.durationInMinute=n),e.Njj(n)}),e.k0s(),e.DNE(49,V,2,0,"small",43),e.k0s(),e.j41(50,"div",40)(51,"label",67),e.EFF(52,"Max Time Out"),e.k0s(),e.j41(53,"input",68),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG();return e.DH7(i.project.maxResponseTimeInSecond,n)||(i.project.maxResponseTimeInSecond=n),e.Njj(n)}),e.k0s(),e.DNE(54,X,2,0,"small",43),e.k0s(),e.j41(55,"div",40)(56,"label",69),e.EFF(57,"Header Serialized"),e.k0s(),e.j41(58,"textarea",70),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG();return e.DH7(i.headerString,n)||(i.headerString=n),e.Njj(n)}),e.k0s(),e.DNE(59,Y,2,0,"small",43),e.k0s()}if(2&o){const t=e.XpG();e.R7$(3),e.R50("ngModel",t.project.name),e.Y8G("ngClass",e.eq3(25,d,t.submitted&&!t.project.name)),e.R7$(),e.Y8G("ngIf",t.submitted&&!t.project.name),e.R7$(4),e.R50("ngModel",t.project.type),e.R7$(5),e.R50("ngModel",t.project.type),e.R7$(5),e.R50("ngModel",t.project.type),e.R7$(6),e.R50("ngModel",t.project.healthcheckUrl),e.Y8G("ngClass",e.eq3(27,d,t.submitted&&!t.project.healthCheckUrl)),e.R7$(),e.Y8G("ngIf",t.submitted&&!t.project.healthcheckUrl),e.R7$(4),e.R50("ngModel",t.project.siteUrl),e.Y8G("ngClass",e.eq3(29,d,t.submitted&&!t.project.healthCheckUrl)),e.R7$(),e.Y8G("ngIf",t.submitted&&!t.project.siteUrl),e.R7$(4),e.R50("ngModel",t.project.assignedTo),e.Y8G("ngClass",e.eq3(31,d,t.submitted&&!t.project.assignedTo)),e.R7$(),e.Y8G("ngIf",t.submitted&&!t.project.assignedTo),e.R7$(5),e.R50("ngModel",t.project.isActive),e.R7$(4),e.R50("ngModel",t.project.sendMailifUnhealthy),e.R7$(4),e.R50("ngModel",t.project.durationInMinute),e.Y8G("ngClass",e.eq3(33,d,t.submitted&&!t.project.durationUInMinute)),e.R7$(),e.Y8G("ngIf",t.submitted&&!t.project.durationInMinute),e.R7$(4),e.R50("ngModel",t.project.maxResponseTimeInSecond),e.Y8G("ngClass",e.eq3(35,d,t.submitted&&!t.project.maxResponseTimeInSecond)),e.R7$(),e.Y8G("ngIf",t.submitted&&!t.project.maxResponseTimeInSecond),e.R7$(4),e.R50("ngModel",t.headerString),e.R7$(),e.Y8G("ngIf",t.submitted&&!t.headerString)}}function A(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",72),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.hideDialog())}),e.k0s(),e.j41(1,"button",73),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveProject())}),e.k0s()}}function w(o,r){if(1&o&&(e.j41(0,"span"),e.EFF(1,"Are you sure you want to delete "),e.j41(2,"b"),e.EFF(3),e.k0s(),e.EFF(4,"?"),e.k0s()),2&o){const t=e.XpG();e.R7$(3),e.JRh(t.project.name)}}function z(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",74),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProjectDialog=!1)}),e.k0s(),e.j41(1,"button",75),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDelete())}),e.k0s()}}function J(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",74),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductsDialog=!1)}),e.k0s(),e.j41(1,"button",75),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDeleteSelected())}),e.k0s()}}const O=[{path:"",component:(()=>{class o{constructor(t,s,n){this.messageService=t,this.api=s,this.router=n,this.projectDialog=!1,this.deleteProjectDialog=!1,this.deleteProjectsDialog=!1,this.headerString="",this.loading=!1,this.project={id:"",name:"",healthcheckUrl:"",siteUrl:"",type:0,assignedTo:"",isActive:!1,sendMailifUnhealthy:!1,durationInMinute:0,maxResponseTimeInSecond:0,headersSerialized:"",headers:[]},this.projects=[],this.selectedtProjects=[],this.submitted=!1,this.cols=[],this.statuses=[],this.rowsPerPageOptions=[5,10,20]}ngOnInit(){this.getAllProject()}getProjectDetails(t){this.router.navigateByUrl("/pages/project-details/"+t)}openNew(){this.project=new I.M,this.submitted=!1,this.projectDialog=!0}deleteSelectedProducts(){this.deleteProjectsDialog=!0}editProduct(t){this.project={...t},this.projectDialog=!0}deleteProject(t){this.deleteProjectDialog=!0,this.project={...t}}confirmDeleteSelected(){this.deleteProjectsDialog=!1,this.projects=this.projects.filter(t=>!this.selectedtProjects.includes(t)),this.selectedtProjects.forEach(t=>{this.deleteProjectById(t.id)}),this.messageService.add({severity:"success",summary:"Successful",detail:"Projects Deleted",life:3e3}),this.selectedtProjects=[]}confirmDelete(){this.deleteProjectDialog=!1,this.deleteProjectById(this.project.id),this.projects=this.projects.filter(t=>t.id!==this.project.id),this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.project={id:"",name:"",healthcheckUrl:"",siteUrl:"",assignedTo:"",isActive:!1,sendMailifUnhealthy:!1,durationInMinute:0,type:0,maxResponseTimeInSecond:0,headersSerialized:"",headers:[]}}hideDialog(){this.projectDialog=!1,this.submitted=!1}saveProject(){this.submitted=!0,this.project.name?.trim()&&(this.project.id?(this.project.id=this.project.id,this.project.name=this.project.name,this.projects[this.findIndexById(this.project.id)]=this.project,this.api.updateProject(this.project).subscribe(t=>{this.projectDialog=!1},t=>{alert(t.message)}),this.messageService.add({severity:"success",summary:"Successful",detail:"Project Updated",life:3e3})):(this.headerString=JSON.parse('"'+this.headerString+'"'),this.project.headersSerialized=this.headerString,console.log(this.headerString),console.log(this.project),this.api.addProject(this.project).subscribe(t=>{this.projectDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Project Created",life:3e3})},t=>{alert(t.message)})),this.projects=[...this.projects],this.projectDialog=!1,this.project={id:"",name:"",healthcheckUrl:"",siteUrl:"",assignedTo:"",isActive:!1,sendMailifUnhealthy:!1,durationInMinute:0,type:0,maxResponseTimeInSecond:0,headersSerialized:"",headers:[]},this.headerString="")}findIndexById(t){let s=-1;for(let n=0;n<this.projects.length;n++)if(this.projects[n].id===t){s=n;break}return s}createId(){let t="";for(let n=0;n<5;n++)t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return t}onGlobalFilter(t,s){t.filterGlobal(s.target.value,"contains")}addProject(t){this.api.addProject(t)}deleteProjectById(t){this.api.deleteProject(t).subscribe(s=>{console.log(s)})}getAllProject(){this.api.getAllProjects().subscribe(t=>{this.projects=t,console.log(this.projects)})}static#e=this.\u0275fac=function(s){return new(s||o)(e.rXU(g.bg),e.rXU(R.G),e.rXU(u.Ix))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-list-projects"]],features:[e.Jv_([g.bg])],decls:26,vars:27,consts:[["dt",""],[1,"grid"],[1,"col-12"],[1,"card","px-6","py-6"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["responsiveLayout","scroll","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","selectionMode","multiple","dataKey","id",3,"selectionChange","value","columns","rows","globalFilterFields","paginator","rowsPerPageOptions","showCurrentPageReport","selection","rowHover"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","Project Details",1,"p-fluid",3,"visibleChange","visible","modal"],["pTemplate","content"],["pTemplate","footer"],["header","Confirm",3,"visibleChange","visible","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],[1,"my-2"],["pButton","","pRipple","","label","New","icon","pi pi-plus",1,"p-button-success","mr-2",3,"click"],["pButton","","pRipple","","label","Delete","icon","pi pi-trash",1,"p-button-danger",3,"click","disabled"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",1,"w-full","sm:w-auto",3,"input"],[2,"width","3rem"],["pSortableColumn","idProject"],["field","code"],["pSortableColumn","name"],["field","name"],["pSortableColumn","assignedTo"],["field","category"],[3,"value"],[2,"width","35%","min-width","10rem"],[1,"p-column-title"],[2,"width","25%","min-width","10rem"],[1,"flex"],["pButton","","pRipple","","icon","pi pi-user",1,"p-button-rounded","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-warning",3,"click"],[1,"field"],["for","name"],["type","text","pInputText","","id","name","required","","autofocus","",3,"ngModelChange","ngModel","ngClass"],["class","ng-dirty ng-invalid",4,"ngIf"],[1,"grid","formgrid"],[1,"col-12","md:col-4"],[1,"field-radiobutton"],["name","type","value","2","id","dns",3,"ngModelChange","ngModel"],["for","dns"],["name","type","value","1","id","ssl",3,"ngModelChange","ngModel"],["for","ssl"],["name","type","value","0","id","user",3,"ngModelChange","ngModel"],["for","user"],["for","healthCheckUrl"],["type","text","pInputText","","id","healthCheckUrl","required","","autofocus","",3,"ngModelChange","ngModel","ngClass"],["for","siteUrl"],["type","text","pInputText","","id","siteUrl","required","","autofocus","",3,"ngModelChange","ngModel","ngClass"],["for","assignedTo"],["type","email","pInputText","","id","email","required","","autofocus","",3,"ngModelChange","ngModel","ngClass"],[1,"p-formgrid","grid"],[1,"field","col"],["for","isActive"],["type","checkbox","id","isActive","value","true",3,"ngModelChange","ngModel"],["for","sendMailifUnhealthy"],["type","checkbox","id","sendMailifUnhealthy","value","true",3,"ngModelChange","ngModel"],["for","durationUInMinute"],["type","number","pInputText","","id","durationUInMinute","required","","autofocus","",3,"ngModelChange","ngModel","ngClass"],["for","maxResponseTimeInSecond"],["type","number","pInputText","","id","maxResponseTimeInSecond","required","","autofocus","",3,"ngModelChange","ngModel","ngClass"],["for","headerSerialized"],["rows","5","cols","30","pInputTextarea","",3,"ngModelChange","ngModel"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Save","icon","pi pi-check",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(s,n){if(1&s){const i=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"div",3),e.nrm(3,"p-toast"),e.j41(4,"p-toolbar",4),e.DNE(5,D,3,1,"ng-template",5)(6,v,0,0,"ng-template",6),e.k0s(),e.j41(7,"p-table",7,0),e.mxI("selectionChange",function(a){return e.eBV(i),e.DH7(n.selectedtProjects,a)||(n.selectedtProjects=a),e.Njj(a)}),e.DNE(9,S,6,0,"ng-template",8)(10,G,13,0,"ng-template",9)(11,L,19,4,"ng-template",10),e.k0s()(),e.j41(12,"p-dialog",11),e.mxI("visibleChange",function(a){return e.eBV(i),e.DH7(n.projectDialog,a)||(n.projectDialog=a),e.Njj(a)}),e.DNE(13,H,60,37,"ng-template",12)(14,A,2,0,"ng-template",13),e.k0s(),e.j41(15,"p-dialog",14),e.mxI("visibleChange",function(a){return e.eBV(i),e.DH7(n.deleteProjectDialog,a)||(n.deleteProjectDialog=a),e.Njj(a)}),e.j41(16,"div",15),e.nrm(17,"i",16),e.DNE(18,w,5,1,"span",17),e.k0s(),e.DNE(19,z,2,0,"ng-template",13),e.k0s(),e.j41(20,"p-dialog",14),e.mxI("visibleChange",function(a){return e.eBV(i),e.DH7(n.deleteProjectsDialog,a)||(n.deleteProjectsDialog=a),e.Njj(a)}),e.j41(21,"div",15),e.nrm(22,"i",16),e.j41(23,"span"),e.EFF(24,"Are you sure you want to delete selected projects?"),e.k0s()(),e.DNE(25,J,2,0,"ng-template",13),e.k0s()()()}2&s&&(e.R7$(7),e.Y8G("value",n.projects)("columns",n.cols)("rows",10)("globalFilterFields",e.lJ4(22,F))("paginator",!0)("rowsPerPageOptions",e.lJ4(23,y))("showCurrentPageReport",!0),e.R50("selection",n.selectedtProjects),e.Y8G("rowHover",!0),e.R7$(5),e.Aen(e.lJ4(24,h)),e.R50("visible",n.projectDialog),e.Y8G("modal",!0),e.R7$(3),e.Aen(e.lJ4(25,h)),e.R50("visible",n.deleteProjectDialog),e.Y8G("modal",!0),e.R7$(3),e.Y8G("ngIf",n.project),e.R7$(2),e.Aen(e.lJ4(26,h)),e.R50("visible",n.deleteProjectsDialog),e.Y8G("modal",!0))},dependencies:[j.YU,j.bT,p.XI,g.Ei,p.Tg,p.yc,p.S9,p.nA,f._f,c.me,c.Q0,c.Zm,c.BC,c.YS,c.vS,C.n,b.y8,P.M,k.S,M.Z,x.a,T.l],encapsulation:2})}return o})()}];let Z=(()=>{class o{static#e=this.\u0275fac=function(s){return new(s||o)};static#t=this.\u0275mod=e.$C({type:o});static#n=this.\u0275inj=e.G2t({imports:[u.iI.forChild(O),u.iI]})}return o})();var K=l(981),$=l(8253),Q=l(788),W=l(4714);let q=(()=>{class o{static#e=this.\u0275fac=function(s){return new(s||o)};static#t=this.\u0275mod=e.$C({type:o});static#n=this.\u0275inj=e.G2t({imports:[j.MD,Z,p.bG,Q.e,c.YN,f.tm,C.Z,b.MB,P.m,W.wZ,k.u,M.f,$.kr,x.Ko,K.O3,T.P]})}return o})()}}]);